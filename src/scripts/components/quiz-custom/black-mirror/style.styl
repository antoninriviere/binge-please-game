.black-mirror {

    &__content {
        margin 12.5vh 0

        &__line {
            display flex
            justify-content center

            opacity 0
            will-change transform
            transition all 0.6s $ease-out-quart

            &:first-child {
                margin-bottom 3.5vh
                transform translate3d(-20px, 0, 0)

                &.has-appeared {
                    opacity 1
                    transform translate3d(0, 0, 0)
                    transition all 0.6s $ease-out-quart
                }
            }

            &:last-child {
                transform translate3d(20px, 0, 0)

                &.has-appeared {
                    opacity 1
                    transform translate3d(0, 0, 0)
                    transition all 0.6s $ease-out-quart
                }
            }
        }
    }

    &__drive, &__couple, &__neon--dark, &__neon--light, &__road {
        background-size 100%
        background-repeat no-repeat
    }

    &__road {
        position relative

        background-image: url('/static/black-mirror/road/road-bg.png')
        background-position: top 6px left 0;

        margin-right 1.6vw

        &__car {
            position absolute
            bottom 0%
            right 3%

            width: 45.51%

            .is-active & {
                animation-name drive
                animation-duration 1.5s
                animation-delay 0.2s
                animation-iteration-count infinite
            }
        }

        &__sparkles {
            position relative
        }

        &__sparkle {
            position absolute
            width 10px
            height auto

            &.sparkle-1 {
                left 28%
                top 40%
            }

            &.sparkle-2 {
                left 30%
                top 45%
            }

            &.sparkle-3 {
                left 35%
                top 50%
            }

            &.sparkle-8 {
                left 35%
                top 38%
            }

            &.sparkle-4 {
                left 40%
                top 44%
            }

            &.sparkle-5 {
                left 42%
                top 40%
            }

            &.sparkle-6 {
                left 45%
                top 42%
            }

            &.sparkle-7 {
                left 51%
                top 38%
            }
        }
    }

    &__couple {
        background-image: url('/static/black-mirror/couple-bg.png')

        &__drop {
            opacity 0
            width 2%

            transition opacity 0.5s

            .is-active & {
                opacity 1
            }
        }
    }

    &__neon {
        margin-right 1.6vw

        &--dark {
            background-image: url('/static/black-mirror/neon-bg.png')
            opacity 1

            .is-active & {
                opacity 0
            }
        }

        &--light {
            background-image: url('/static/black-mirror/neon-light-bg.png')
            opacity 0

            .is-active & {
                opacity 1
            }
        }
    }

    &__drive {
        background-image: url('/static/black-mirror/drive/drive-bg.png')

        &__glass {

            &--reflection--left, &--reflection--right {
                width 100%
                position absolute
                top 0
                left 0

                opacity 0

                will-change transform

                -webkit-mask-size 100% 100%
                mask-size 100% 100%

                -webkit-mask-mode alpha
                mask-mode alpha

                .is-active & {
                    opacity 1

                    animation-name reflection
                    animation-duration 1s
                    animation-delay 0.5s
                    animation-iteration-count infinite
                }
            }

            &--reflection--left {
                -webkit-mask-image url(/static/black-mirror/drive/glass-mask-1-left.png)
                mask-image url(/static/black-mirror/drive/glass-mask-1-left.png)
            }

            &--reflection--right {
                -webkit-mask-image url(/static/black-mirror/drive/glass-mask-1-right.png)
                mask-image url(/static/black-mirror/drive/glass-mask-1-right.png)
            }

            &__trees {

                -webkit-mask-image url(/static/black-mirror/drive/palmtree-mask.png)
                mask-image url(/static/black-mirror/drive/palmtree-mask.png)

                -webkit-mask-size 100% 100%
                mask-size 100% 100%

                -webkit-mask-mode alpha
                mask-mode alpha

                &__palm {
                    width 12%
                    top 27%
                    left 30%

                    opacity 0

                    .is-active & {
                        opacity 1
                        animation-name palmtrees
                        animation-duration 1s
                        animation-delay 0.5s
                        animation-iteration-count infinite
                    }

                    &--2 {
                        width 8%
                        top 45%
                        left 40%

                        opacity 0

                        .is-active & {
                            opacity 1
                            animation-name palmtrees
                            animation-duration 1s
                            animation-delay 0.5s
                            animation-iteration-count infinite
                        }
                    }
                }

            }
        }
    }
}

@keyframes drive {
    0% {
        transform translate3d(0, 0, 0)
    }

    10% {
        transform translate3d(0px, -2px, 0)
    }

    20% {
        transform translate3d(0px, 0px, 0)
    }

    30% {
        transform translate3d(0px, 1px, 0)
    }

    40% {
        transform translate3d(0px, 0px, 0)
    }

    50% {
        transform translate3d(0px, -2px, 0)
    }

    60% {
        transform translate3d(0px, 0px, 0)
    }

    70% {
        transform translate3d(0px, -3px, 0)
    }

    80% {
        transform translate3d(0px, 0px, 0)
    }

    90% {
        transform translate3d(0px, 1px, 0)
    }

    100% {
        transform translate3d(0px, 0px, 0)
    }
}

@keyframes reflection {
    0% {
        transform translate3d(-100px, 0, 0)
        -webkit-mask-position-x 100px
    }

    100% {
        transform translate3d(100px, 0, 0)
        -webkit-mask-position-x -100px
    }
}

@keyframes palmtrees {
    0% {
        transform translate3d(-80px, -40px, 0) scale(1.5)
    }

    100% {
        transform translate3d(120px, 30px, 0) scale(0.6)
    }
}
